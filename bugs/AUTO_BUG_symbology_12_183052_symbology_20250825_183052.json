{
  "adapter_name": "symbology",
  "analysis_context": "Automated detection via Nautilus Trader Rig",
  "bug_id": "AUTO_BUG_symbology_12_183052",
  "code_sample": "",
  "description": "The function `instrument_id_to_symbol_string` has a critical logic error where it modifies the input `symbol_venue_map` by inserting the instrument's venue, but the function name and return value suggest it should only convert an instrument ID to a string representation. This side effect is unexpected and could lead to incorrect venue mappings being stored, potentially causing financial data to be associated with the wrong venue in downstream processing.",
  "file_location": {
    "details": {
      "absolute_path": "/Users/vadimnicolai/Public/trading/nautilus_trader/nautilus-trader-rig/../crates/adapters/databento/src/symbology.rs",
      "directory": "/Users/vadimnicolai/Public/trading/nautilus_trader/nautilus-trader-rig/../crates/adapters/databento/src",
      "file_size_bytes": 9697,
      "filename": "symbology.rs",
      "last_modified_timestamp": 1755849306,
      "relative_path": "../crates/adapters/databento/src/symbology.rs"
    },
    "source_location": {}
  },
  "fix_suggestion": "Remove the side effect from this function. If venue mapping storage is required, create a separate function with a clear name like `update_venue_mapping`. The conversion function should be pure:",
  "severity": "HIGH",
  "timestamp": "20250825_183052",
  "workspace_info": {
    "branch": "main",
    "commit_hash": "647630eb9ce73d7235c504cfe96cd6553b6ab21b",
    "repository": "nautilus_trader"
  }
}